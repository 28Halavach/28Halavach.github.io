<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/shades-of-purple.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <title>stamp</title>
    <link rel="icon" href="/images/flower.ico">
    <link rel="stylesheet" href="/normalize.css">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
</head>
<body>  
    <ul>
        <li><a href="/" id="mainPage">root Main page</a></li>
        <li><a href="https://learn.javascript.ru/shadow-dom-events"></a></li>
    </ul>


<div id="outer"></div>

<script>
    let outer = document.querySelector('#outer')

    outer.attachShadow({mode: 'open'});

    let inner = document.createElement('div')
    outer.shadowRoot.append(inner)

/*
    div(id=outer)
      #shadow-dom
        div(id=inner)
*/

document.addEventListener('test', event => alert(event.detail));

inner.dispatchEvent(new CustomEvent('test', {
    bubbles: true,
    composed: true,
    detail: "composed"
}));

inner.dispatchEvent(new CustomEvent('test', {
    bubbles: true,
    composed: false,
    detail: 'not composed'
}))

</script>


<script src="/part1/common.js"></script>
</body>
</html>