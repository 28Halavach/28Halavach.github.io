<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p style="font-size: 2em">
      this.test = this.test.bind(this); // This binding not needed for most
      enivironments since your code is plain JavaScript not other library ex:
      ReacjJs.
    </p>

    <my-div></my-div>

    <script>
      class Rock extends HTMLElement {
        constructor() {
          super();
          this.attachShadow({ mode: "open" });
          const root = this.shadowRoot; // Think about root variable now as document object so if you want get any elements in your shadow root you must write root.getElement...
          // this.test = this.test.bind(this); // This binding not needed for most enivironments since your code is plain JavaScript not other library ex: ReacjJs.

          root.innerHTML = `
                    <div id="con">
                    <h3> Shadow Root Element </h3>
                    </div>
                    <img src="https://derickbailey.com/wp-content/uploads/2015/08/webcomponents.jpg" id="photo">
                    <style>
                        #con {
                            width: 300px;
                            height: 100px;
                            background-color: royalblue;
                            border-radius: 10px;
                            color: #ffffff;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                        }
                        #photo {
                            width: 300px;
                            height: 200px;
                        }
                    </style>
                    `;
          const myImage = root.getElementById("photo"); // here you getting your image by id from root variable which is this.shadowRoot.
          myImage.addEventListener("click", this.test); // Then you add your event listener and handler
        }

        test(e) {
          // class method which added to the image.
          console.log(e.target);
          console.log("image");
        }
      }
      customElements.define("my-div", Rock);
    </script>
  </body>
</html>
